* fichas

** proceso seven 
*** DONE coloreo segun seven
    subidos/seven
    como ya no va a haber tab fechar propiamente dicha, quedara para fechar al 
    pablo la otra tiene que mostrar mas facilmente lo que esta subido al seven 
    y lo que esta en capilla.
    uso el mismo sistema que habia antes pq colorear toda la fila va a ser 
    molesto y esta bien a la vista la columna seven e intimar con su color 
    azul y verde y naranja de intimado reciente y fecha sola de intimado 
    viejo.
    Hice que el proceso de subir bajar intimar y desintimar no recalcule que 
    movia todo y hacia molesto el proceso.
** fechado 
*** TODO fechar en el mismo cuerpo
    pq solo quedara el pablo para el fechar clasico, que debe quedar funcional
    aparentemente funciona, solo que aca en net no funciona, chequear en otro 
    lado.
** imprimir ficha
*** hacer ficha nueva con grilla como en python
*** incluir espacio de msgcobr suficiente para planes de pago
*** prever un mecanismo para imprimir las nuevas de este mes
    como pasaba antes con la Elba, o sea las vendidas durante el mes que 
    vencen el mismo mes.
    Quizas necesite que se active de nuevo el campo fimpr
** asignacion zonas
*** TODO cambio de paradigma en la asignacion
    en vez de asignar por tabla zona, asignar por campo en tabla ventas, de 
    modo tal que se pudiera asignar en forma diferenciada a distintos 
    cobradores la misma zona (el problema seria como muestro o quien muestra 
    los incobrables/mudados/gestion), 
    pq podria ser que los botones zonas salieran no de la asignacion de tabla 
    zona sino de la asignacion de tabla ventas. Para lo cual habria que tener 
    formas de cargar las asignaciones que podrian ser, desde el cuadro de 
    zonas hacer un asignador, p.e. asignar al 800 juarez celman y que ponga en 
    todas las fichas el codigo del 800. Y la otra seria mediante el tbls de 
    fichas en proceso de edicion individual o global. 
    Y los inc/ges/mud aparecerian en los luegares donde aparezca la zona pero 
    sin asignacion salvo que alguno se asigne.
    A su vez este cambio tendria que repercutir en el pasado de recibos para 
    que no moleste que no haya asignacion global de zona, sino individual de 
    zona. 
**** TODO hacer editador de varias filas de tbls 
     con un lmap proceso el curselection y al campo dado lo proceso, me 
     faltaria el valor a asignar que lo tendria que cargar puede ser con un 
     msgbox con aceptar o cancelar. si acepto edita los curselection con el 
     valor dado si cancelo no hace nada.  Una vez hecho habria que ver si se 
     lo generaliza y se lo incluye en la class tbls para que pueda ser usado 
     en todas las tbls que programo.
**** TODO variante: asignador de zona o cambiador de zona 
     usando el mismo criterio usado para asignar cobrador, solo que sutilmente 
     diferente, con un combo.
*** DONE la division normales/antiguos debe ser por fecha visitar
    cosa que uno cuando active una ficha asi sea del 2005 poniendole visitar 
    siga saliendo como normal hasta que la pongamos como incobrable o gestion.
    se hizo un case when ventas.ultpago>=clientes.pmovto y se uso los dos 
    criterios para delimitar las fechas de ambos conjuntos cosa de abarcar 
    todos los casos.
*** corregir subconjuntos ge/mu/in sacando between pq no hace falta
    ya que con la clausula logica gestion=1 o mudo=1 es suficiente no hace 
    falta delimitar la fecha.
*** TODO agregar campos de edicion al tbl fichas
    los mismos que tiene fechar: msgcobr/horarios/tel/ por mas que esten a la 
    derecha y no esten visibles, ya que pueden ser usados p.e. cuando paso un 
    mudado o un incobrable y anoto quien lo informa. O bien un mecanismo tipo 
    el fichaje viejo que con una letra oculto algunas columnas y desoculto 
    otras. 
*** esta solucion es mejor que iniciar con botones de zona
    pq si inicio con botones de zona a la par que tantos botones son confusos 
    y dificiles de encontrar, lo mismo es dificil saber que esta asignado a 
    cada cobrador. incluso se podria poner un boton sin asignacion que muestre 
    las fichas vacantes si las hay. 
    el tbls zonas sera mas bien un simulador que sirve para calcular como 
    quedan las zonas pero haga falta un sencillo cargador de zonas inicial.
* fichas.tcl
** proceso de fechar
*** para ganar tiempo un proceso comun es tener que fechar varios
registros con la misma fecha, eso podria solucionar bastante.  
** para usar el espacion que hay abajo se podria usar una grilla tipo
  la del fechador que te muestre las cuotas y los pagos a medida que
  avanzas en el listado.
** DONE hay alguna razon para que no se use el dot para poner la fecha de hoy?
- State "DONE"       from "TODO"       [2018-10-02 mar 23:15]
** ver si el resaltado de los pagados y cancelados no solo funciona
  para la fecha especifica marcada sino para los ultimos dos o tres
  dias, cosa de que uno vea que esos casos deben ser fechados.
** se debe resaltar un pagado que permanezca con una fecha baja
** forma de poner no vender mas dentro del fechador y ver si esta en no
  vender mas. para prescindir de python
* TODO tab de cobradores                                             :fichas:
o sea agregar cobradores, editar datos, activar, desactivar, eliminar
bug prom=0, 
* TODO ponerle fecha a los listados                                 :listado:
* TODO corregir fichas.tcl agregado de cobradores                    :fichas:
 [db eval {select id from cobr where activo=1 and prom=0 and id>15}] {
 ese prom=0 impide captar a los agregados via edicion en F7 pq entran
 como '0' o sea un desastre y mas si uno olvida donde estaba el bug,
 entonces agrega un cobrador y no te aparece en el boton y uno se
 desespera. 
* TODO indicar recorridos impresos el dia anterior :fichas:
[2018-10-09 mar 14:51]
para mayor comodidad con un balloon persistente al apretar cobrador y
tambien en tab recorrdidos colorear el ultimo dia, eso dara mejor
claridad para ver lo ultimo que imprimi de cada cobrador. 

